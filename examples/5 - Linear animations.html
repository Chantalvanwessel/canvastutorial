<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- <script src="../plugins/d3.min.js"></script> -->
</head>
</head>

<body>
    <script>
        let width = 500,
            height = 700
        //Append a canvas element to the body
        let canvas = d3.select("body")
            .append("canvas")
            .attr("width", width)
            .attr("height", height)

        //Get the 2D context from the canvas element
        let ctx = canvas.node().getContext("2d")

        //Define the fill color
        ctx.fillStyle = "#4DB7B0"

        ////////////// Animate a rectangle //////////////

        let change = 5
        let x = 0

        function loop() {
            //Clear the area between the x, y, width & height
            //The x & y define the top left of the rectangle
            //This clears the entire canvas
            ctx.clearRect(0, 0, width, height)

            //Add the "change" onto the previous x location
            x = x + change
            //If the edges are reached, make the change go the other way
            if(x <= 0 || x >= width-50) change = change * -1

            //Draw the rectangle
            ctx.fillRect(x, 100, 50, 50)

            //Call the next loop
            requestAnimationFrame(loop)
        }//function loop

        //Start the 1st time
        requestAnimationFrame(loop)

    </script>
</body>